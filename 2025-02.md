# 2/2(日)
**【学習時間】**
7.23h(累計:264.8h/1,000h)
  
**【学習内容】**
- Rails基礎Ch13

**【課題を通して学んだこと】**（知識・タスク分解などの振り返り）  
create,deleteの作成方法を学んだ。
updateをルーティングに設定すると、PUTとPATCHのHTTPリクエストのルーティングが設定される。
それぞれの違いは
- PUT…既存リソースを「置き換える」。
- PATCH…「付け足す」。
とのこと
https://zenn.dev/sgtkuc1118/articles/c73587c674a4a2



# 2/4(火)
**【学習時間】**
1.43h(累計:269.63h/1,000h)
  
**【学習内容】**
- チーム開発作業
  - Deviceについて、もち米さんが調べてくれた内容の確認
  - 不明点の整理(comment機能のnewアクションが無い理由)

**【課題を通して学んだこと】**（知識・タスク分解などの振り返り）  
Rails基礎のカリキュラムの内容を復習しながら、実装内容の確認をしました。
カリキュラム時にさらっと通り過ぎてしまった内容を改めて見つめなおせているので良い復習になっています✨
  
**【その他】**  
ログインしていない状態でcommentを作成する方法が気になってきました。
アクセス制限は、コントローラのフィルタで実装できますが、データベースの部分のイメージがいまいちつかめていない。
外部キーは、nilを許容できるのかな？🤔
ログインしていない人がコメントを投稿すると、user_id(外部キー)が `nil`になると考えているけど合っているか、今後調べる必要がありますね。



# 2/6(木)
**【学習時間】**
3.4h(累計:273.1h/1,000h)
  
**【学習内容】**
- デプロイイベント準備
- Rails基礎復習

**【その他】**  
__ デプロイイベント準備 __
準備だけのつもりが、デプロイまでやってしまいました。
事前配布されている資料が、動画・画像付きで分かりやすく、特に詰まらずにできました！✨

__ Rails基礎復習 __
この前のチーム開発の打ち合わせにて話に上がった、flashメッセージの挙動をpry-byebugを使って確認していました。
- renderしないとフラッシュメッセージは出ないのか？
  - 結果：出なかった
  - フラッシュメッセージは、ページが読み込まれたときに表示されるので、予想通りの挙動
- HTTPレスポンスを200で返すと、エラーのフラッシュメッセージは出るのか？
  - 結果：出力されなかった。
    - `status: 200` にして実行…表示されない
    - `flash.now[:success]` かつ `status: 200` にして実行…表示されない
  - HTTPレスポンスのステータスが重要であることを認識できた。



# 2/13(木)
**【学習時間】**
5.23h(累計:304.85h/1,000h)
  
**【学習内容】**
- Rails基礎 Ch15

**【課題を通して学んだこと】**（知識・タスク分解などの振り返り）  
同期会で、みんなに聞いた[unique制限を設ける際にindexを付けている理由について](https://school.runteq.jp/v2/questions/11326)を質問させていただき、講師の方から回答をいただきました。  

**🔍 質問内容**  
Rails基礎において、マイグレーションファイルで以下のカラムにunique制限を設ける際、indexも併せて付けている理由は何か？  

- xxxx_sorcery_core.rb … `email`  
- xxxx_create_bookmarks.rb … [`user_id`, `board_id`] (組み合わせ)  

**✅ 結果**  
インデックスを付けることで、ユニーク制約の確認作業を効率化できるためとのことでした！  



# 2/18(火)
**【学習時間】**
1.65h(累計:326.13h/1,000h)
  
**【学習内容】**
- Rails基礎 Ch19

**【課題を通して学んだこと】**（知識・タスク分解などの振り返り）  
- **ransackについて**
	- ransackの動作がうまく理解できず、デバッガと技術面談で調べてみた
	- 結果、以下のような動作を行っている。
		- @q…SQL文の作成
		- @q.resultでデータの取得を実行

- **ブックマーク一覧画面の並び順**
  - 思っていた内容…ブックマークした順の降順に掲示板が並ぶ
  - 実際：掲示板の作成が新しい順(created_atの降順)に並んでいる
  - 理由：board#bookmarkで `current_user.bookmark_boards`をcreated_atの降順に並び替えている
    - ブックマークしているboardレコードを並び替えている
    - ブックマークした順なら、 `current_user.bookmarks`でcreated_atの降順に並び替える必要がある。  
  
___
**【その他】**  
ExcelのVBAのように、VScode上でソースコードの行番号の左側にブレイクポイントを設定してデバックする方法を模索しました。
なぜなら、
- デバックのたびに、コードに`binding.pry`を記載するのが面倒
- `binding.pry`の消し忘れで、フリーズさせてしまうことが度々発生
- ExcelのVBAや、MPLABのように、デバック時にステップごとの動作確認をしたい
と思ったからです。
調べると、VScodeの`ruby-debug-ide` なるものがよさそうだったので、[こちらの記事](https://fukugyo-shacho.jp/archives/rails-3)を参考に設定を試みましたが、うまくできませんでした。。。
私にはまだ早かったらしい。。。

調べると、pry-byebugでもSTEPごとにデバックできるようでしたので、こちらで対応します！
しかし、`docker attach`を抜けた後に`binding.pry`の消し忘れでブレイクポイントで止まってしまった際には、どのように抜け出すのが正解なのだろうか。。。？
いつも`docker compose down`で強制終了させてしまっているけど、これで良いのか？？？